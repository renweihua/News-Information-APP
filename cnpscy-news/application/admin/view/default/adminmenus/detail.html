{extend name="layout::default" /}

{block name="title"}后台菜单栏目详情{/block}

{block name="content"}
<div class="row">
	<div class="col-sm-12">
		<div class="ibox float-e-margins">
			<div class="ibox-title">
				<h5>后台菜单栏目详情</h5>
				<div class="ibox-tools float-left">
					&nbsp;
					<a class=javascript:;" onclick="returnUrl()" title="数据重载">
						<i class="fa fa-mail-reply-all"> 返回 </i>
					</a>
					&nbsp;
					<a class="collapse-link">
						<i class="fa fa-chevron-up"></i>
					</a>
					&nbsp;
				</div>
			</div>
			<div class="ibox-content">
				<form class="form-horizontal m-t" id="detail" method="post"
					  onsubmit="formSaveSubmit(this);return false;" action="{:url('update')}"
					  get-ajax-url="{:url('detail')}" return-url="{:url('index')}">

				</form>
			</div>
		</div>
	</div>
</div>
{/block}

{block name="script"}
<script type="text/javascript">
	window.onload = function () {
		var unique_id = parseInt(getQueryString('menu_id')) || 0;
		closeLayerLoading(getDetail(unique_id, 'menu_id', function(res){
			checkradioClass();
			getMenusSelectList('{:url("getSelectLists")}', res.parent_id, $('form#detail select[name=parent_id]'));
		}));
	}
</script>
<script type="text/html" id="detail-template">
	<div class="form-group">
		<label class="col-sm-3 control-label">父级栏目：</label>
		<div class="col-sm-8">
			<select name="parent_id" class="form-control">
				<option value="0">--默认顶级--</option>
			</select>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label">菜单名称：</label>
		<div class="col-sm-8">
			<input type="text" name="menu_name" placeholder="输入菜单名称" class="form-control" required="" value="<<{# if(!isEmpty(d.menu_name)){  }>><<{d.menu_name}>><<{# } }>>" />
		</div>
	</div>

	<div class="form-group">
		<label class="col-sm-3 control-label no-padding-right"> 页面路由：</label>
		<div class="col-sm-8">
			<input type="text" name="menu_url" placeholder="输入页面路由" class="form-control"  value="<<{# if(!isEmpty(d.menu_url)){  }>><<{d.menu_url}>><<{# }else{}>>javascript:;<<{# } }>>"/>
			<span class="help-block m-b-none">
				<i class="fa fa-info-circle"></i>
				<span class="red">*</span>可为空！默认为：javajscript:;【后端访问页面】
			</span>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label no-padding-right"> 接口路由：</label>
		<div class="col-sm-8">
			<input type="text" name="api_url" placeholder="输入接口路由" class="form-control" value="<<{# if(!isEmpty(d.api_url)){  }>><<{d.api_url}>><<{# } }>>" />
			<span class="help-block m-b-none">
				<i class="fa fa-info-circle"></i>
				<span class="red">*</span>【接口地址】
			</span>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label no-padding-right"> 图标：</label>
		<div class="col-sm-8">
			<input type="text" name="menu_icon" placeholder="输入图标" class="form-control" value="<<{# if(!isEmpty(d.menu_icon)){  }>><<{d.menu_icon}>><<{# } }>>" />
			<span class="help-block m-b-none">
				<i class="fa fa-info-circle"></i>
				<span class="red">*</span>选择图标 如:icon-list
			</span>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label no-padding-right"> 排序：</label>
		<div class="col-sm-8">
			<input type="text" name="menu_sort" class="form-control" value="<<{# if(!isEmpty(d.menu_sort)){  }>><<{d.menu_sort}>><<{# }else{}>>0<<{# } }>>" />
			<span class="help-block m-b-none">
				<i class="fa fa-info-circle"></i>
				<span class="red">*</span>排序从小到大
			</span>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label no-padding-right"> 权限检测：</label>
		<div class="col-sm-8">
			<div class="radio i-checks">
				<label>
					<input type="radio" value="1" name="check_auth" <<{# if(parseInt(d.check_auth) == 1 || isEmpty(d)){ }>>checked<<{# }
					}>>> <i></i> 启用
				</label>
				<label>
					<input type="radio" value="0" name="check_auth" <<{# if(parseInt(d.check_auth) == 0){ }>>checked<<{# }
					}>> > <i></i> 禁用
				</label>
			</div>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label no-padding-right"> 左侧展示：</label>
		<div class="col-sm-8">
			<div class="radio i-checks">
				<label>
					<input type="radio" value="1" name="is_left" <<{# if(parseInt(d.is_left) == 1 || isEmpty(d)){ }>>checked<<{# }
					}>>> <i></i> 是
				</label>
				<label>
					<input type="radio" value="0" name="is_left" <<{# if(parseInt(d.is_left) == 0){ }>>checked<<{# }
					}>> > <i></i> 否
				</label>
			</div>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label no-padding-right">审核状态： </label>
		<div class="col-sm-8">
			<div class="radio i-checks">
				<label>
					<input type="radio" value="1" name="is_check" <<{# if(parseInt(d.is_check) == 1 || isEmpty(d)){ }>>checked<<{# }
					}>>> <i></i> 启用
				</label>
				<label>
					<input type="radio" value="0" name="is_check" <<{# if(parseInt(d.is_check) == 0){ }>>checked<<{# }
					}>> > <i></i> 禁用
				</label>
			</div>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-8 col-sm-offset-3">
			<input id="menu_id" name="menu_id" class="form-control" type="hidden"
				   value="<<{# if(!isEmpty(d.menu_id)){  }>><<{d.menu_id}>><<{# } }>>">
			<button class="btn btn-primary" type="submit"><i class="fa fa-check"></i> 提交</button>
		</div>
	</div>
</script>
{/block}